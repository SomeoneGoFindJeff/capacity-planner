{% extends 'base.html' %}
{% block content %}
<section class="section">
  <div class="section-header">
    <h1>Resource Groups</h1>
    <form
      class="inline-form"
      method="post"
      action="{{ url_for('add_group') }}"
    >
      <input
        type="text"
        name="name"
        placeholder="New group name"
        required
        class="input"
      />
      <select name="group_id" hidden></select><!-- no-op, kept for consistency -->
      <button type="submit" class="btn btn-primary">
        <span class="material-icons">add</span> Add Group
      </button>
    </form>
  </div>
  <ul class="list-container">
    {% for g in groups %}
      <li class="list-item">
        <span>{{ g.name }}</span>
        <form
          method="post"
          action="{{ url_for('edit_group', group_id=g.id) }}"
          class="inline-form"
        >
          <input name="name"
                 value="{{ g.name }}"
                 required
                 class="input input-small"
          />
          <button title="Rename" class="btn btn-secondary">
            <span class="material-icons">edit</span>
          </button>
        </form>
        <form
          method="post"
          action="{{ url_for('delete_group', group_id=g.id) }}"
          class="inline-form"
        >
          <button title="Delete" class="btn btn-secondary">
            <span class="material-icons">delete</span>
          </button>
        </form>
      </li>
    {% else %}
      <p>No groups defined yet.</p>
    {% endfor %}
  </ul>
</section>
{% endblock %}
